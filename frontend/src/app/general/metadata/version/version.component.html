<!--
 ~ SPDX-FileCopyrightText: Copyright DB InfraGO AG and contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div class="wrapper text-center md:text-left">
  <div (click)="openDialog()">
    @if (versionService.versionsHaveChanged()) {
      <div>
        <span class="text-error"> New version. What's new? </span>
      </div>
      <div>
        Frontend: {{ versionService.viewedVersion()?.frontend }}
        <mat-icon inline="true" class="align-top">arrow_right_alt</mat-icon>
        {{ versionService.frontendVersion() }}
      </div>
      <div>
        Backend: {{ versionService.viewedVersion()?.backend }}
        <mat-icon inline="true" class="align-top">arrow_right_alt</mat-icon>
        {{ versionService.backendVersion() }}
      </div>
    } @else if (versionService.showBothVersions()) {
      <div>Frontend: {{ versionService.frontendVersion() || "-" }}</div>
      <div>Backend: {{ versionService.backendVersion() || "-" }}</div>
    } @else {
      <div>Version: {{ versionService.frontendVersion() || "-" }}</div>
    }
  </div>

  <a
    target="_blank"
    [href]="docsURL + '/release-notes/'"
    (click)="versionService.markVersionsAsViewed()"
  >
    Release Notes
    <mat-icon inline="true" class="align-top">open_in_new</mat-icon>
  </a>
</div>
