<!--
 ~ SPDX-FileCopyrightText: Copyright DB InfraGO AG and contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div class="wrapper text-center md:text-left">
  <a
    href="/docs/release-notes/"
    target="_blank"
    (click)="metadataService.clickedOnVersionNotes()"
  >
    @if (metadataService.changedVersion && metadataService.version) {
      <div class="text-error">
        New version. What's new?
        @if (metadataService.oldVersion) {
          ({{ metadataService.oldVersion }}
          <mat-icon inline="true" class="align-top">arrow_right_alt</mat-icon>
          {{ metadataService.version.git.tag }})
        } @else {
          ({{ metadataService.version.git.tag }})
        }
      </div>
    }
    <span>
      Environment:
      {{ (metadataService.backendMetadata | async)?.environment || "-" }} <br />
      Frontend version: {{ metadataService.version?.git?.version || "-" }}
      <br />
      Backend version:
      {{ (metadataService.backendMetadata | async)?.version || "-" }}
    </span>
  </a>
</div>
