<!--
 ~ SPDX-FileCopyrightText: Copyright DB InfraGO AG and contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<!--
 ~ SPDX-FileCopyrightText: Copyright DB Netz AG and the capella-collab-manager contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->
<div class="wrapper">
  <h2>Provision workspace</h2>
  <mat-card>
    <mat-card-content>
      <p>Load the models in a training environment.</p>

      <form [formGroup]="provisionForm" (ngSubmit)="requestSessions()">
        <div class="mb-4" *ngIf="project?.type !== 'training'">
          <mat-slide-toggle formControlName="persistentWorkspace">
            Use a persistent workspace</mat-slide-toggle
          >
        </div>

        <button
          matInput
          mat-flat-button
          class="w-full"
          color="primary"
          type="submit"
          [disabled]="!project?.slug || !models || sessionsRequested"
        >
          Start this training
          <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
