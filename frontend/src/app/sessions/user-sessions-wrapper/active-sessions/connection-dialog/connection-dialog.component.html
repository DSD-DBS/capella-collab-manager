<!--
 ~ SPDX-FileCopyrightText: Copyright DB InfraGO AG and contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div
  *ngIf="
    isPersistentSessionAlias(session) &&
    session.version?.tool?.integrations?.t4c
  "
>
  <div class="m-m-card">
    <div class="mb-1 text-base font-bold">TeamForCapella session token</div>
    If you'd like to connect to TeamForCapella while working with Capella,
    <br />
    please copy your session token and enter it when prompted in your Capella
    session.
    <br />
    You can always return to this dialog by clicking on "Connect" in the "Active
    sessions" overview. <br />
    <div *ngIf="connectionInfo?.t4c_token">
      <app-display-value
        [value]="connectionInfo?.t4c_token"
        [blurValue]="true"
        valueName="TeamForCapella token"
      ></app-display-value>
    </div>
    <div *ngIf="!connectionInfo?.t4c_token">
      No session token was generated for your session.
    </div>
  </div>
  <hr />
</div>

<div class="m-m-card">
  <div class="mb-1 text-base font-bold">Connect to the session</div>
  Please click on this button to connect to the server: <br />
  <div class="mt-2">
    <button mat-flat-button color="primary" (click)="redirectToSession()">
      Connect to Session
    </button>
  </div>
</div>
<hr />
<div class="m-m-card">
  <div class="mb-1 text-base font-bold">
    Wait for {{ session.version.tool.name }}
  </div>
  After opening the session, {{ session.version.tool.name }}
  {{ session.version.name }} starts automatically. This can take up to one
  minute.
</div>
<div>
  <button
    mat-stroked-button
    class="m-0 w-full"
    (click)="this.dialogRef.close()"
  >
    Close
  </button>
</div>
