<!--
 ~ SPDX-FileCopyrightText: Copyright DB InfraGO AG and contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<mat-drawer-container [hasBackdrop]="true">
  <mat-drawer class="!fixed" #sidenav mode="push">
    <app-nav-bar-menu />
  </mat-drawer>

  <mat-drawer-content class="flex min-h-full flex-col">
    @if (
      (fullscreenService.isFullscreen$ | async) === false &&
      pageLayoutService.showNavbar
    ) {
      <app-header class="h-[50px] xl:h-[100px]" />
    }

    <div
      [ngClass]="{
        'mx-3 my-2 md:mx-5':
          (fullscreenService.isFullscreen$ | async) === false,
      }"
      [style]="{ 'min-height': constructMinHeight() }"
    >
      @if (
        (fullscreenService.isFullscreen$ | async) === false &&
        pageLayoutService.showAnnouncement
      ) {
        <app-announcement-list />
      }

      <router-outlet class="h-full"></router-outlet>
    </div>
    @if (
      (fullscreenService.isFullscreen$ | async) === false &&
      pageLayoutService.showFooter
    ) {
      <app-footer class="mb-2 flex min-h-[115px] flex-col justify-around" />
    }
  </mat-drawer-content>
</mat-drawer-container>
