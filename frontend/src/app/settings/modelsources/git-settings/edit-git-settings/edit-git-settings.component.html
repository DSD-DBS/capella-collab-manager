<!--
 ~ SPDX-FileCopyrightText: Copyright DB Netz AG and the capella-collab-manager contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div class="wrapper">
  <div class="title">Edit Instance</div>
  <br />
  <mat-card>
    <form [formGroup]="gitInstanceForm" id="add-instance-form">
      <mat-form-field class="form-field-default" appearance="fill">
        <mat-label>Git Type</mat-label>
        <mat-select matInput formControlName="type">
          <mat-option value="General" selected
            >General Git (limited)</mat-option
          >
          <mat-option value="GitLab">Gitlab</mat-option>
          <mat-option value="GitHub" disabled>GitHub (unsupported)</mat-option>
          <mat-option value="AzureDevOps" disabled
            >Azure DevOps (unsupported)</mat-option
          >
        </mat-select>
      </mat-form-field>
      <br />
      <mat-form-field class="form-field-default" appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>
      <br />
      <mat-form-field class="form-field-default" appearance="fill">
        <mat-label>Instance base URL</mat-label>
        <input matInput formControlName="url" />
      </mat-form-field>
      <br />
      <mat-form-field
        *ngIf="gitInstanceForm.controls.type.value !== 'General'"
        class="form-field-default"
        appearance="fill"
      >
        <mat-label>API URL</mat-label>
        <input matInput formControlName="apiURL" />
      </mat-form-field>
    </form>
    <div class="flex-space-between">
      <a mat-raised-button (click)="goBack()"> Back </a>
      <button
        [class]="'right-button'"
        mat-flat-button
        color="primary"
        (click)="editGitInstance()"
      >
        Save changes
      </button>
    </div>
  </mat-card>
</div>
