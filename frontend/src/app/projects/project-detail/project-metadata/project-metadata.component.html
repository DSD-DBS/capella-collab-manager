<!--
 ~ SPDX-FileCopyrightText: Copyright DB Netz AG and the capella-collab-manager contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div class="wrapper">
  <h2 id="title">Project information</h2>
  <mat-card id="metadata-card">
    <div *ngIf="projectService.project | async">
      <h2 id="title">{{ (projectService.project | async)!.name }}</h2>
    </div>
    <div *ngIf="(projectService.project | async) === undefined">
      <ngx-skeleton-loader
        [theme]="{
          'border-radius': '5px',
          height: '24px',
          width: '50%',
          border: '1px solid white'
        }"
      ></ngx-skeleton-loader>
    </div>
    <div id="description">
      {{
        (projectService.project | async)!.description ||
          "No description available."
      }}
    </div>
    <div *ngIf="projectUserService.verifyRole('manager')">
      <span
        matTooltip="The project can't be deleted since it has linked models"
        [matTooltipDisabled]="canDelete"
      >
        <button
          [disabled]="!canDelete"
          (click)="deleteProject()"
          mat-flat-button
          color="warn"
        >
          <mat-icon class="mat-icon-position left">delete_forever</mat-icon
          >Delete project
        </button>
      </span>
      <a
        [disabled]="(projectService.project | async) === undefined"
        mat-raised-button
        routerLink="metadata"
        id="modify"
      >
        <mat-icon class="mat-icon-position left">settings</mat-icon> Modify name
        / description
      </a>
    </div>
  </mat-card>
</div>
