<!--
 ~ SPDX-FileCopyrightText: Copyright DB Netz AG and the capella-collab-manager contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<div *ngIf="(projectService.project | async) && (modelService.model | async)">
  <h2 class="title text-center">Git sources</h2>
  <div class="options-list flex-center">
    <button mat-raised-button (click)="modelSourceSelection.emit('git-add')">
      <div class="button-content-wrapper">
        <p class="option-title">Use existing repository</p>
        <img
          class="content"
          class="git"
          src="https://git-scm.com/images/logos/downloads/Git-Logo-1788C.png"
        />
      </div>
    </button>
    <div class="field-separator"></div>
    <button
      mat-raised-button
      disabled
      (click)="modelSourceSelection.emit('git-create')"
    >
      <div class="button-content-wrapper">
        <p class="option-title">Create repository</p>
        <img
          class="content"
          class="git"
          src="https://git-scm.com/images/logos/downloads/Git-Logo-1788C.png"
        />
      </div>
    </button>
  </div>

  <div *ngIf="(modelService.model | async)!.tool?.integrations?.t4c">
    <h2 class="title text-center">Team4Capella sources</h2>
    <div class="options-list flex-center">
      <button
        mat-raised-button
        (click)="modelSourceSelection.emit('t4c-add')"
        [disabled]="!(userService.user?.role === 'administrator')"
      >
        <div class="button-content-wrapper">
          <p class="option-title">Use existing repository</p>
        </div>
      </button>
      <div class="field-separator"></div>
      <button mat-raised-button disabled>
        <div class="button-content-wrapper">
          <p class="option-title">Create repository</p>
        </div>
      </button>
    </div>
  </div>
</div>
