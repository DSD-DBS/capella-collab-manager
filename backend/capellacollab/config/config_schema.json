{
  "type": "object",
  "properties": {
    "docker": {
      "type": "object",
      "properties": {
        "registry": {
          "type": "string"
        }
      }
    },
    "operators": {
      "type": "object",
      "properties": {
        "operator": {
          "type": "string",
          "enum": ["docker", "k8s"]
        },
        "k8s": {
          "type": "object",
          "properties": {
            "context": { "type": "string" },
            "namespace": { "type": "string" },
            "apiURL": { "type": "string" },
            "token": { "type": "string" },
            "storageClassName": { "type": "string" },
            "storageAccessMode": {
              "type": "string",
              "enum": [
                "ReadWriteOnce",
                "ReadOnlyMany",
                "ReadWriteMany",
                "ReadWriteOncePod"
              ]
            },
            "cluster": {
              "type": "object",
              "properties": {
                "containers": {
                  "type": ["object", "null"],
                  "properties": {
                    "securityContext": {
                      "type": "object",
                      "properties": {
                        "capabilities": {
                          "type": "object",
                          "properties": {
                            "drop": {
                              "type": "array",
                              "items": {
                                "type": "string",
                                "enum": ["KILL", "MKNOD", "SETGID", "SETUID"]
                              }
                            }
                          }
                        },
                        "runAsUser": {
                          "type": "number"
                        }
                      }
                    },
                    "imagePullPolicy": {
                      "type": "string",
                      "enum": ["IfNotPresent", "Always", "Never"]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "extensions": {
      "type": "object",
      "properties": {
        "guacamole": {
          "type": "object",
          "properties": {
            "baseURI": { "type": "string" },
            "publicURI": { "type": "string" },
            "username": { "type": "string" },
            "password": { "type": "string" }
          }
        }
      }
    },
    "authentication": {
      "type": "object",
      "properties": {
        "provider": { "type": "string" },
        "jwt": {
          "type": "object",
          "properties": { "usernameClaim": { "type": "string" } }
        },
        "oauth": {
          "type": "object",
          "properties": {
            "endpoints": {
              "type": "object",
              "properties": {
                "tokenIssuance": { "type": ["string", "null"] },
                "authorization": { "type": ["string", "null"] },
                "wellKnown": { "type": "string" }
              }
            },
            "audience": { "type": "string" },
            "publicKey": { "type": "string" },
            "scopes": {
              "type": "array",
              "items": { "type": "string", "enum": ["openid"] }
            },
            "client": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "secret": { "type": ["string", "null"] }
              }
            },
            "redirectURI": { "type": "string" }
          }
        },
        "azure": {
          "type": "object",
          "properties": {
            "authorizationEndpoint": { "type": "string" },
            "client": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "secret": { "type": "string" }
              }
            },
            "redirectURI": { "type": "string" },
            "connectConfigurationEndpoint": { "type": "string" }
          }
        }
      }
    },
    "prometheus": {
      "type": "object",
      "properties": { "url": { "type": "string" } }
    },
    "database": {
      "type": "object",
      "properties": { "url": { "type": "string" } }
    },
    "initial": {
      "type": "object",
      "properties": { "admin": { "type": "string" } }
    },
    "logging": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": ["CRITICAL", "ERROR", "WARNING", "INFO", "DEBUG", "NOTSET"]
        }
      }
    },
    "requests": {
      "type": "object",
      "properties": {
        "timeout": { "type": "number" }
      }
    }
  }
}
